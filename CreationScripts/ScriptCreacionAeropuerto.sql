DROP TABLE RESERVAS;
DROP TABLE PARTES;
DROP TABLE VUELOS;
DROP TABLE AVIONES;


CREATE TABLE AVIONES
(TIPO VARCHAR2(3) CONSTRAINT PK_AVION PRIMARY KEY,
 CAPACIDAD NUMBER(4) NOT NULL,
 LONGITUD NUMBER(4,2) NOT NULL,
 ENVERGADURA NUMBER(4,2) NOT NULL,
 VELOCIDAD_CRUCERO NUMBER(5,2) NOT NULL,
 COMBUSTIBLE NUMBER(4)
);

CREATE TABLE VUELOS
(NUM_VUELO VARCHAR2(6) CONSTRAINT PK_VUELOS PRIMARY KEY,
 ORIGEN VARCHAR2(15) NOT NULL,
 DESTINO VARCHAR2(15) NOT NULL,
 HORA_SALIDA VARCHAR2(9) NOT NULL,
 TIPO_AVION VARCHAR2(3) NOT NULL,
 DISTANCIA NUMBER(5),
 HORA_LLEGADA DATE,
 CONSTRAINT FK_VUELOS_AVIONES FOREIGN KEY (TIPO_AVION) REFERENCES AVIONES(TIPO)
);

CREATE TABLE PARTES
(NUM_PARTE NUMBER(4) CONSTRAINT PK_PARTES PRIMARY KEY,
 NUM_VUELO VARCHAR2(6) NOT NULL,
 FECHA DATE NOT NULL,
 HORA_SALIDA DATE NOT NULL,
 HORA_LLEGADA DATE NOT NULL,
 NIVEL_VUELO NUMBER(4),
 COMB_CONSUMIDO NUMBER(5),
 CONSTRAINT FK_PARTES_VUELOS FOREIGN KEY (NUM_VUELO) REFERENCES VUELOS(NUM_VUELO)
);

CREATE TABLE RESERVAS
(NUM_VUELO VARCHAR2(6),
 FECHA_SALIDA DATE NOT NULL,
 PLAZAS_LIBRES NUMBER(3) NOT NULL,
 CONSTRAINT PK_RESERVAS PRIMARY KEY (NUM_VUELO,FECHA_SALIDA),
 CONSTRAINT FK_RESERVAS_VUELOS FOREIGN KEY (NUM_VUELO) REFERENCES VUELOS(NUM_VUELO)
);


--Rellenar tabla AVIONES
insert into AVIONES values('320',187,42.15,32.60,790.,374);
insert into AVIONES values('72S',160,36.20,25.20,820.,320);
insert into AVIONES values('737',172,38.90,29.00,805.,344);
insert into AVIONES values('73S',185,44.10,30.35,840.,370);
insert into AVIONES values('D9S',110,38.30,28.50,815.,220);

--Rellenar la tabla VUELOS
insert into VUELOS values('AF577','BILBAO','PARIS','10:10:00','737',800,NULL);
insert into VUELOS values('BA467','MADRID','LONDRES','20:40:00','73S',1800,NULL);
insert into VUELOS values('IB023','MADRID','TENERIFE','21:20:00','72S',1500,NULL);
insert into VUELOS values('IB0640','MADRID','BARCELONA','06:45:00','320',750,NULL);
insert into VUELOS values('IB318','SEVILLA','MADRID','10:45:00','72S',600,NULL);
insert into VUELOS values('IB327','MADRID','SEVILLA','18:05:00','72S',600,NULL);
insert into VUELOS values('IB368','MALAGA','BARCELONA','22:25:00','D9S',900,NULL);
insert into VUELOS values('IB3709','DUBLIN','BARCELONA','14:35:00','D9S',1200,NULL);
insert into VUELOS values('IB3742','MADRID','BARCELONA','09:15:00','72S',750,NULL);
insert into VUELOS values('IB510','SEVILLA','MADRID','07:45:00','72S',600,NULL);
insert into VUELOS values('IB600','MADRID','LONDRES','10:30:00','320',1800,NULL);
insert into VUELOS values('IB610','MALAGA','LONDRES','15:05:00','73S',1900,NULL);
insert into VUELOS values('IB721','BARCELONA','SEVILLA','16:40:00','72S',950,NULL);
insert into VUELOS values('IB778','BARCELONA','ROMA','09:45:00','72S',1000,NULL);
insert into VUELOS values('LH1349','COPENHAGUE','FRANCFORT','10:20:00','320',1300,NULL);

--Rellenar la tabla PARTES
insert into PARTES values(1,'IB0640','27/09/1993',to_date('27/09/1993 06:45:00','DD/MM/YYYY HH24:MI:SS'),to_date('27/09/1993 11:00:00','DD/MM/YYYY HH24:MI:SS'),250,1000);
insert into PARTES values(2,'IB0640','28/09/1993',to_date('28/09/1993 06:45:00','DD/MM/YYYY HH24:MI:SS'),to_date('28/09/1993 11:05:00','DD/MM/YYYY HH24:MI:SS'),300,900);
insert into PARTES values(3,'IB0640','29/09/1993',to_date('29/09/1993 06:45:00','DD/MM/YYYY HH24:MI:SS'),to_date('29/09/1993 11:05:00','DD/MM/YYYY HH24:MI:SS'),290,1100);
insert into PARTES values(4,'IB0640','30/09/1993',to_date('30/09/1993 06:45:00','DD/MM/YYYY HH24:MI:SS'),to_date('30/09/1993 11:05:00','DD/MM/YYYY HH24:MI:SS'),290,1100);
insert into PARTES values(5,'IB600','27/09/1993',to_date('27/09/1993 08:00:00','DD/MM/YYYY HH24:MI:SS'),to_date('27/09/1993 11:05:00','DD/MM/YYYY HH24:MI:SS'),350,2500);
insert into PARTES values(6,'IB600','28/09/1993',to_date('28/09/1993 08:00:00','DD/MM/YYYY HH24:MI:SS'),to_date('28/09/1993 11:10:00','DD/MM/YYYY HH24:MI:SS'),300,2800);
insert into PARTES values(7,'IB600','29/09/1993',to_date('29/09/1993 08:00:00','DD/MM/YYYY HH24:MI:SS'),to_date('29/09/1993 10:50:00','DD/MM/YYYY HH24:MI:SS'),350,2300);
insert into PARTES values(8,'LH1349','27/09/1993',to_date('27/09/1993 18:00:00','DD/MM/YYYY HH24:MI:SS'),to_date('27/09/1993 22:00:00','DD/MM/YYYY HH24:MI:SS'),350,2400);
insert into PARTES values(9,'LH1349','28/09/1993',to_date('28/09/1993 18:00:00','DD/MM/YYYY HH24:MI:SS'),to_date('28/09/1993 22:20:00','DD/MM/YYYY HH24:MI:SS'),300,2800);
insert into PARTES values(10,'IB023','27/09/1993',to_date('27/09/1993 08:00:00','DD/MM/YYYY HH24:MI:SS'),to_date('27/09/1993 11:00:00','DD/MM/YYYY HH24:MI:SS'),300,2500);
insert into PARTES values(11,'IB721','27/09/1993',to_date('27/09/1993 18:00:00','DD/MM/YYYY HH24:MI:SS'),to_date('27/09/1993 19:30:00','DD/MM/YYYY HH24:MI:SS'),250,1500);
insert into PARTES values(12,'AF577','28/09/1993',to_date('28/09/1993 10:10:00','DD/MM/YYYY HH24:MI:SS'),to_date('28/09/1993 11:30:00','DD/MM/YYYY HH24:MI:SS'),250,1500);

--Rellenar la tabla RESERVAS
insert into RESERVAS values('BA467','20/02/1992',32);
insert into RESERVAS values('BA467','21/02/1992',49);
insert into RESERVAS values('BA467','22/02/1992',79);
insert into RESERVAS values('IB0640','20/02/1992',15);
insert into RESERVAS values('IB0640','21/02/1992',21);
insert into RESERVAS values('IB0640','22/02/1992',39);
insert into RESERVAS values('IB3709','20/02/1992',60);
insert into RESERVAS values('IB3709','21/02/1992',72);
insert into RESERVAS values('IB3709','22/02/1992',85);
insert into RESERVAS values('IB510','20/02/1992',19);
insert into RESERVAS values('IB510','21/02/1992',31);
insert into RESERVAS values('IB510','22/02/1992',40);
insert into RESERVAS values('IB600','20/02/1992',46);
insert into RESERVAS values('IB600','21/02/1992',80);
insert into RESERVAS values('IB600','22/02/1992',91);